export default function ActivityGraphElement({html:t=String.raw,state:e,toLocaleStringPolyfill:a=null}){String.raw;const{attrs:r={}}=e;function i(t){return t?new Date(t):new Date}a&&(Date.prototype.toLocaleString=function(t,e={}){return a(this,t,e)});const l=i(r["range-start"]),o=i(r["range-end"]),g=(n=r["activity-data"])?n.split(",").reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{}):{};var n;const c=(p=r["activity-levels"])?p.split(",").map(Number):[0,1,2,3,4];var p;const h=parseInt(r["first-day-of-week"]||"0",10),v=r.lang||"default",s={activities:"Activities",less:"Less",more:"More",...JSON.parse(r.i18n||"{}")};function y(t){const e=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),a=Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),r=Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate());return e>=a&&e<=r}function d(t){const e=g[t]||0;for(let t=c.length-1;t>=0;t--)if(e>=c[t])return t;return 0}function b(t){const e=c[t],a=c[t+1]||null;return a?`${s.activities}: ${e}${a-e>1?"–"+(a-1):""}`:`${s.activities}: >${e}`}return t`${function(){let e=t`${t`<style scope="global">:where(activity-graph){color-scheme:light dark;font-size:12px;display:block}:where(activity-graph) figure{overflow-x:auto;margin:0;position:relative;display:block}:where(activity-graph) table{width:max-content;border-collapse:separate;border-spacing:1px}:where(activity-graph) td,:where(activity-graph) th{border:0 solid transparent;text-align:left}:root{--activity-graph-rounded:2px;--activity-graph-text-weight:400;--activity-graph-font-size:12px}.activity-graph-dark,:root{--activity-graph-level-0-bg:#161b22;--activity-graph-level-0-border:rgba(27, 31, 35, 0.06);--activity-graph-level-1-bg:#0e4429;--activity-graph-level-1-border:rgba(255, 255, 255, 0.05);--activity-graph-level-2-bg:#006d32;--activity-graph-level-2-border:rgba(255, 255, 255, 0.05);--activity-graph-level-3-bg:#26a641;--activity-graph-level-3-border:rgba(255, 255, 255, 0.05);--activity-graph-level-4-bg:#39d353;--activity-graph-level-4-border:rgba(255, 255, 255, 0.05);--activity-graph-disabled-bg:transparent}.activity-graph-light,:root{--activity-graph-text-color:#24292e;--activity-graph-level-0-bg:#ebedf0;--activity-graph-level-0-border:rgba(27, 31, 35, 0.06);--activity-graph-level-1-bg:#9be9a8;--activity-graph-level-1-border:rgba(27, 31, 35, 0.06);--activity-graph-level-2-bg:#40c463;--activity-graph-level-2-border:rgba(27, 31, 35, 0.06);--activity-graph-level-3-bg:#30a14e;--activity-graph-level-3-border:rgba(27, 31, 35, 0.06);--activity-graph-level-4-bg:#216e39;--activity-graph-level-4-border:rgba(27, 31, 35, 0.06);--activity-graph-disabled-bg:transparent;--activity-graph-disabled-border:rgba(27, 31, 35, 0.06)}@media (prefers-color-scheme:dark){.activity-graph-auto{--activity-graph-text-color:white;--activity-graph-level-0-bg:#161b22;--activity-graph-level-0-border:rgba(27, 31, 35, 0.06);--activity-graph-level-1-bg:#0e4429;--activity-graph-level-1-border:rgba(255,255,255,0.05);--activity-graph-level-2-bg:#006d32;--activity-graph-level-2-border:rgba(255,255,255,0.05);--activity-graph-level-3-bg:#26a641;--activity-graph-level-3-border:rgba(255,255,255,0.05);--activity-graph-level-4-bg:#39d353;--activity-graph-level-4-border:rgba(255,255,255,0.05);--activity-graph-disabled-bg:transparent}}:where(activity-graph) th{padding:0;font-weight:var(--activity-graph-text-weight);color:var(--activity-graph-text-color);text-align:left;position:relative;background:0 0}:where(activity-graph) .weekday{width:3em;height:1em}:where(activity-graph) .month,:where(activity-graph) .year{height:1.25em}:where(activity-graph) th span{clip-path:none;position:absolute;top:-.2em}:where(activity-graph) .weekday span{top:-.2em}.sr-only,:where(activity-graph) tr:nth-of-type(2n+1) .weekday span{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;left:0;top:0;white-space:nowrap;width:1px}:where(activity-graph) .day{padding:0;width:1em;height:1em;outline-offset:-1px;border-radius:var(--activity-graph-rounded)}:where(activity-graph) .level-0{background-color:var(--activity-graph-level-0-bg);outline:1px solid var(--activity-graph-level-0-border)}:where(activity-graph) .level-1{background-color:var(--activity-graph-level-1-bg);outline:1px solid var(--activity-graph-level-1-border)}:where(activity-graph) .level-2{background-color:var(--activity-graph-level-2-bg);outline:1px solid var(--activity-graph-level-2-border)}:where(activity-graph) .level-3{background-color:var(--activity-graph-level-3-bg);outline:1px solid var(--activity-graph-level-3-border)}:where(activity-graph) .level-4{background-color:var(--activity-graph-level-4-bg);outline:1px solid var(--activity-graph-level-4-border)}:where(activity-graph) .level-disabled{background-color:var(--activity-graph-disabled-bg)}:where(activity-graph) figcaption{display:flex;align-items:center;justify-content:center;gap:.25em;margin-top:-1.25em;position:sticky;left:0}:where(activity-graph) table{margin-bottom:2em}:where(activity-graph) figcaption div:first-of-type{margin-right:.5em}:where(activity-graph) figcaption div:last-of-type{margin-left:.5em}</style>`}`;return e+=t`<figure><table><tbody>${function(){const e=t=>new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=(t,e)=>new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()+e)),r=e(l),i=e(o);let n=r.getUTCDay()-h;n<0&&(n+=7);const c=a(r,-n);let p=i.getUTCDay()-h;p<0&&(p+=7);const s=a(i,6-p),b=Array.from({length:7},((e,a)=>{const r=Date.UTC(2021,0,a+3+h),i=new Date(r).toLocaleString(v,{weekday:"long"}),l=new Date(r).toLocaleString(v,{weekday:"short"});return t`<th class="weekday"><span class="sr-only">${i}</span> <span aria-hidden="true">${l}</span></th>`}));let u={},w={},f="",m="",$=Array.from({length:7},(()=>[]));for(let e=new Date(c);e<=s;){const r=e.getUTCDay(),i=a(e,6-r),l=`${i.getUTCFullYear()}-${i.getUTCMonth()}`;m!==l?(f!==`${i.getUTCFullYear()}`?(f=`${i.getUTCFullYear()}`,w[f]=1):w[f]++,u[l]=1,m=l):(u[l]++,w[f]++);for(let r=0;r<7;r++){const i=a(e,r),l=`${i.getUTCFullYear()}-${String(i.getUTCMonth()+1).padStart(2,"0")}-${String(i.getUTCDate()).padStart(2,"0")}`,o=y(i)?d(l):"disabled",n=`${i.toLocaleDateString(v)} – Activities: ${g[l]||0}`;$[r].push(t`<td class="day level-${o}" title="${n}"><span class="sr-only">${n}</span></td>`)}e=a(e,7)}const C=Object.entries(w).map((([e,a])=>t`<th class="year" colspan="${a}" scope="colgroup"><span>${e}</span></th>`)).join(""),T=Object.keys(u).map((e=>{const[a,r]=e.split("-").map(Number),i=new Date(Date.UTC(a,r)).toLocaleString(v,{month:"short"}),l=new Date(Date.UTC(a,r)).toLocaleString(v,{month:"long"});return t`<th class="month" colspan="${u[e]}" scope="colgroup"><span class="sr-only">${l}</span> <span aria-hidden="true">${i}</span></th>`})).join(""),U=t`<tr><th></th>${C}</tr><tr><th></th>${T}</tr>`,D=$.map((e=>t`<tr>${b.shift()}${e.join("")}</tr>`)).join("");return U+D}()}</tbody></table><figcaption>${function(){let e="";return c.forEach(((a,r)=>{e+=t`<div class="day level-${r}" title="${b(r)}"><span class="sr-only">${b(r)}</span></div>`})),e=t`<div>${s.less}</div>${e}<div>${s.more}</div>`,e}()}</figcaption></figure>`,e}()}`}